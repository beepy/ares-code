/*Ares, a tactical space combat game.Copyright (C) 1997, 1999-2001, 2008 Nathan LamontThis program may be used, mofified, and redistributed either under the termsof the GNU General Public License version 2 or the GNU Lesser General PublicLicense version 3. See `LICENSE.md` for details.*//******************************************\|**| Ares_ResFile.c\******************************************/#pragma mark 본INCLUDES본/******************************************\|**| #includes\******************************************/#pragma mark _system includes_/* - system*******************************************/#pragma mark _third party includes_/* - third party libraries*******************************************/#pragma mark _bp libraries includes_/* - bp libraries*******************************************/#include "Assert.h"#pragma mark _this library includes_/* - this project*******************************************/#include "Ares_ResFile.h"#pragma mark 본DEFINITIONS본/******************************************\|**| #defines\******************************************//* - definitions*******************************************/#pragma mark _macros_/* - macros*******************************************/#pragma mark 본TYPEDEFS본/******************************************\|**| typedefs\******************************************/#pragma mark 본EXTERNAL GLOBALS본/******************************************\|**| external globals\******************************************/#pragma mark 본PRIVATE GLOBALS본/******************************************\|**| private globals\******************************************/#pragma mark 본PRIVATE PROTOTYPES본/******************************************\|**| private function prototypes\******************************************/#pragma mark 본PRIVATE FUNCTIONS본/******************************************\|**| private functions\******************************************/#pragma mark 본PUBLIC FUNCTIONS본/******************************************\|**| public functions\******************************************/short ARF_OpenResFile( StringPtr fileName){	ProcessSerialNumber				myProcess;	OSErr							error;	ProcessInfoRec					info;	FSSpec							appFileSpec, fileFileSpec;	//	mAssert( fileName != nil);	error = GetCurrentProcess( &myProcess);	if ( error != noErr) return -1;		info.processName = nil;	info.processAppSpec = &appFileSpec;	info.processInfoLength = sizeof( ProcessInfoRec);	error = GetProcessInformation( &myProcess, &info);	if ( error != noErr) return -1;		error = FSMakeFSSpec( appFileSpec.vRefNum, appFileSpec.parID, fileName,		&fileFileSpec);		return( FSpOpenResFile( &fileFileSpec, fsRdPerm));}/* ARF_OpenResFile_External	makes the FSSpec of a file from a file name, relative to ares folder,	so you can make it *the* external data file*/OSErr ARF_OpenResFile_External( StringPtr fileName, FSSpecPtr fileSpec){	ProcessSerialNumber				myProcess;	OSErr							error;	ProcessInfoRec					info;	FSSpec							appFileSpec;	//	mAssert( fileName != nil);	if ( fileSpec == nil) return paramErr;		error = GetCurrentProcess( &myProcess);	if ( error != noErr) return error;	info.processName = nil;	info.processAppSpec = &appFileSpec;	info.processInfoLength = sizeof( ProcessInfoRec);	error = GetProcessInformation( &myProcess, &info);	if ( error != noErr) return error;		error = FSMakeFSSpec( appFileSpec.vRefNum, appFileSpec.parID, fileName,		fileSpec);	if ( error != noErr) return error;		return noErr;}